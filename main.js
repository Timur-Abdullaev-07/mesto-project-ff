(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};function t(e,t,r,n){var o=m.querySelector(".card").cloneNode(!0),u=o.querySelector(".card__image");return u.src=e.link,u.alt=e.name,o.querySelector(".card__title").textContent=e.name,o.querySelector(".card__delete-button").addEventListener("click",(function(){return t(o)})),o.querySelector(".card__like-button").addEventListener("click",r),u.addEventListener("click",n),o}function r(e){e.remove()}function n(e){e.target.classList.toggle("card__like-button_is-active")}function o(e){e.target.classList.contains("popup_is-opened")?c(e.target):e.target.classList.contains("popup__close")&&c(e.target.parentElement.parentElement)}function u(e){"Escape"===e.key&&(console.log(e),c(document.querySelector(".popup_is-opened")))}function p(e){e.classList.add("popup_is-opened"),document.addEventListener("click",o),document.addEventListener("keydown",u)}function c(e){e.classList.remove("popup_is-opened"),document.removeEventListener("click",o),document.removeEventListener("keydown",u)}e.d({},{T:()=>m});var i,a=function(e,t,r,n,o){var u=e.querySelector(".".concat(n.id,"-error"));n.classList.add(t),u.textContent=o,u.classList.add(r)},s=function(e,t,r,n){var o=e.querySelector(".".concat(n.id,"-error"));n.classList.remove(t),o.classList.remove(r),o.textContent=""},l=function(e,t){t.disabled=!0,t.classList.add(e)},d=function(e,t,r){!function(e){return e.some((function(e){return!e.validity.valid}))}(t)?function(e,t){t.disabled=!1,t.classList.remove(e)}(e.inactiveButtonClass,r):l(e.inactiveButtonClass,r)},_=function(e,t){var r=e.querySelectorAll(t.inputSelector),n=e.querySelector(t.submitButtonSelector);r.forEach((function(r){s(e,t.inputErrorClass,t.errorClass,r),l(t.inactiveButtonClass,n)}))},m=document.querySelector("#card-template").content,v=document.querySelector(".places__list"),y=document.querySelector(".popup_type_image"),f=document.querySelector(".popup__image"),S=document.querySelector(".popup__caption"),b=document.querySelector(".popup_type_edit"),q=b.querySelector(".popup__form"),E=q.querySelector(".popup__input_type_name"),k=q.querySelector(".popup__input_type_description"),C=document.querySelector(".profile__title"),L=document.querySelector(".profile__description"),g=document.querySelector(".popup_type_new-card"),h=g.querySelector(".popup__form"),x=h.querySelector(".popup__input_type_card-name"),B=h.querySelector(".popup__input_type_url");function j(e){p(y),f.src=e.target.src,f.alt=e.target.alt,S.textContent=e.target.alt}function A(e){e.preventDefault(),C.textContent=E.value,L.textContent=k.value,c(b),q.removeEventListener("submit",A)}function w(e){e.preventDefault(),v.prepend(t({name:x.value,link:B.value},r,n,j)),c(g),h.removeEventListener("submit",w)}[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}].forEach((function(e){v.append(t(e,r,n,j))})),document.querySelector(".profile__edit-button").addEventListener("click",(function(){_(q,{inputSelector:".popup__input",inputErrorClass:"popup__input_type_error",inactiveButtonClass:"popup__button_disabled",submitButtonSelector:".popup__button"}),p(b),E.value=C.textContent,k.value=L.textContent,q.addEventListener("submit",A)})),document.querySelector(".profile__add-button").addEventListener("click",(function(){_(h,{inputSelector:".popup__input",inputErrorClass:"popup__input_type_error",inactiveButtonClass:"popup__button_disabled",submitButtonSelector:".popup__button"}),p(g),h.addEventListener("submit",w),x.value="",B.value=""})),i={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__error_visible"},Array.from(document.querySelectorAll(i.formSelector)).forEach((function(e){!function(e,t){var r=Array.from(e.querySelectorAll(t.inputSelector)),n=e.querySelector(t.submitButtonSelector);r.forEach((function(o){o.addEventListener("input",(function(){!function(e,t,r){r.validity.patternMismatch?a(t,e.inputErrorClass,e.errorClass,r,r.dataset.errorMessage):r.validity.valid?s(t,e.inputErrorClass,e.errorClass,r):a(t,e.inputErrorClass,e.errorClass,r,r.validationMessage)}(t,e,o),d(t,r,n)}))}))}(e,i)}))})();